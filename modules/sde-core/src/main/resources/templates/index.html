<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="ultraq.net.nz/thymeleaf/layout">

<head>
	<th:block th:insert="~{fragments/header.html :: headerfiles}" />
</head>

<body>

	<div class="container">
		<th:block th:insert="~{fragments/menu.html :: menu}" />
		<h3>List Configured/Registred Submodels</h3>
		<hr />
		<a th:href="@{/submodel}" class="btn btn-primary">Add New Submodel</a>
		<br /><br />
		<table class="table table-bordered table-striped" id="appTable">
			<thead>
				<tr>
				    <th>id</th>
					<th>Submodel</th>
					<th>Submodel Version</th>
					<th>SematicId</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
		<th:block th:insert="~{fragments/footer.html :: footer}" />
	</div>
	<script>
		$(document).ready(function () {

			$.getJSON('/api/submodels', function (dataSet, textStatus, jqXHR) {
				$('#appTable').DataTable({
					data: dataSet,
					columns: [
						{data: 'id'},
						{data: 'name'},
						{data: 'version'},
						{data: 'semanticId'}]
				});
			})
				.done(function () {})
				.fail(function (jqxhr, settings, ex) {alert('failed, ' + ex);});

		})
	</script>

</body>

</html>